/*! mpulse v1.0.0 */

var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=d.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var c=new a;return b&&c.mixIn(b),c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=d.WordArray=e.extend({init:function(a,c){a=this.words=a||[],c!=b?this.sigBytes=c:this.sigBytes=4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes,e=a.sigBytes;if(this.clamp(),d%4)for(var f=0;e>f;f++){var g=c[f>>>2]>>>24-f%4*8&255;b[d+f>>>2]|=g<<24-(d+f)%4*8}else if(c.length>65535)for(var f=0;e>f;f+=4)b[d+f>>>2]=c[f>>>2];else b.push.apply(b,c);return this.sigBytes+=e,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8,b.length=a.ceil(c/4)},clone:function(){var a=e.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return new f.init(c,b)}}),g=c.enc={},h=g.Hex={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;c>e;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push((f>>>4).toString(16)),d.push((15&f).toString(16))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new f.init(c,b/2)}},i=g.Latin1={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;c>e;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push(String.fromCharCode(f))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-d%4*8;return new f.init(c,b)}},j=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(i.stringify(a)))}catch(b){throw new Error("Malformed UTF-8 data")}},parse:function(a){return i.parse(unescape(encodeURIComponent(a)))}},k=d.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=j.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,g=this.blockSize,h=4*g,i=e/h;i=b?a.ceil(i):a.max((0|i)-this._minBufferSize,0);var j=i*g,k=a.min(4*j,e);if(j){for(var l=0;j>l;l+=g)this._doProcessBlock(d,l);var m=d.splice(0,j);c.sigBytes-=k}return new f.init(m,k)},clone:function(){var a=e.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0}),l=(d.Hasher=k.extend({cfg:e.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){a&&this._append(a);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new l.HMAC.init(a,c).finalize(b)}}}),c.algo={});return c}(Math);!function(a){var b=CryptoJS,c=b.lib,d=c.WordArray,e=c.Hasher,f=b.algo,g=[],h=[];!function(){function b(b){for(var c=a.sqrt(b),d=2;c>=d;d++)if(!(b%d))return!1;return!0}function c(a){return 4294967296*(a-(0|a))|0}for(var d=2,e=0;64>e;)b(d)&&(8>e&&(g[e]=c(a.pow(d,.5))),h[e]=c(a.pow(d,1/3)),e++),d++}();var i=[],j=f.SHA256=e.extend({_doReset:function(){this._hash=new d.init(g.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],f=c[2],g=c[3],j=c[4],k=c[5],l=c[6],m=c[7],n=0;64>n;n++){if(16>n)i[n]=0|a[b+n];else{var o=i[n-15],p=(o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3,q=i[n-2],r=(q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10;i[n]=p+i[n-7]+r+i[n-16]}var s=j&k^~j&l,t=d&e^d&f^e&f,u=(d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22),v=(j<<26|j>>>6)^(j<<21|j>>>11)^(j<<7|j>>>25),w=m+v+s+h[n]+i[n],x=u+t;m=l,l=k,k=j,j=g+w|0,g=f,f=e,e=d,d=w+x|0}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+g|0,c[4]=c[4]+j|0,c[5]=c[5]+k|0,c[6]=c[6]+l|0,c[7]=c[7]+m|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;return c[e>>>5]|=128<<24-e%32,c[(e+64>>>9<<4)+14]=a.floor(d/4294967296),c[(e+64>>>9<<4)+15]=d,b.sigBytes=4*c.length,this._process(),this._hash},clone:function(){var a=e.clone.call(this);return a._hash=this._hash.clone(),a}});b.SHA256=e._createHelper(j),b.HmacSHA256=e._createHmacHelper(j)}(Math),function(){{var a=CryptoJS,b=a.lib,c=b.Base,d=a.enc,e=d.Utf8,f=a.algo;f.HMAC=c.extend({init:function(a,b){a=this._hasher=new a.init,"string"==typeof b&&(b=e.parse(b));var c=a.blockSize,d=4*c;b.sigBytes>d&&(b=a.finalize(b)),b.clamp();for(var f=this._oKey=b.clone(),g=this._iKey=b.clone(),h=f.words,i=g.words,j=0;c>j;j++)h[j]^=1549556828,i[j]^=909522486;f.sigBytes=g.sigBytes=d,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var b=this._hasher,c=b.finalize(a);b.reset();var d=b.finalize(this._oKey.clone().concat(c));return d}})}}(),function(a){"use strict";function b(b,c){k||("object"==typeof XDomainRequest?(s=!0,k=function(){return new XDomainRequest}):"function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest?k=function(){return new XMLHttpRequest}:"function"==typeof require?k=function(){var a=require("xmlhttprequest").XMLHttpRequest;return new a}:a&&"undefined"!=typeof a.ActiveXObject&&(k=function(){return new a.ActiveXObject("Microsoft.XMLHTTP")}));var d=k();"function"==typeof c&&(s?d.onload=function(){c(d.responseText)}:d.onreadystatechange=function(){4===d.readyState&&c(d.responseText)}),d.open("GET",b,!0),d.send()}function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}function d(a,b,c){if("undefined"==typeof CryptoJS||"function"!=typeof CryptoJS.HmacSHA256)return"";var d="key="+a+"&t="+c;return CryptoJS.HmacSHA256(d,b).toString()}function e(e,f,g){function h(b){return-1!==b.indexOf("http://")||-1!==b.indexOf("https://")?b:(V?b="https:"+b:"undefined"==typeof a?-1===b.indexOf("http:")&&(b="http:"+b):"undefined"!=typeof a&&"file:"===a.location.protocol&&-1===b.indexOf("http:")&&(b="http:"+b),b)}function i(){var a=U,b=+new Date;return a+=-1!==a.indexOf("?")?"&":"?",a+="key="+S,a+="&t="+b,a+="&s="+d(S,T,b),h(a)}function j(){var a=W.beacon_url;return h(a)}function k(a){try{var b=JSON.parse(a);for(var c in b)b.hasOwnProperty(c)&&(W[c]=b[c])}catch(d){return void(Y=!1)}if(da||M(W.session_id),ea={},ga={},ca={},W.PageParams){var e=W.PageParams.customMetrics,f=W.PageParams.customTimers,g=W.PageParams.customDimensions;if(e)for(r=0;r<e.length;r++){var h=e[r];ea[h.name]=h.label}if(f)for(r=0;r<f.length;r++){var i=f[r];ga[i.name]=i.label}if(g)for(r=0;r<g.length;r++){var j=g[r];ca[j.name]=j.label}}Y=!0,X=!0,setTimeout(p,m),l(w)}function p(){if(""!==U){var a=i();X&&(a+="&r="),b(a,k)}}function s(){var a={};for(var b in ba)ba.hasOwnProperty(b)&&(a[b]=ba[b]);return a}function v(a,b,c){Z.push({type:a,name:b,value:c,group:_,ab:aa,dimensions:s(),when:+new Date})}function w(a){if(0!==Z.length){if(!Y)return void((!$||a)&&($=!0,setTimeout(function(){w(!0)},n)));var b=Z.shift(),c=b.type,d=b.name,e=b.value,f={};"boolean"!=typeof b.group&&(f["h.pg"]=b.group),"boolean"!=typeof b.ab&&(f["h.ab"]=b.ab),f.when=b.when;for(var g in b.dimensions)b.dimensions.hasOwnProperty(g)&&"undefined"!=typeof ca[g]&&(f[ca[g]]=b.dimensions[g]);"metric"===c?"undefined"!=typeof ea[d]&&(f[ea[d]]=e,x(f)):"timer"===c&&"undefined"!=typeof ga[d]&&(f.t_other=ga[d]+"|"+e,x(f)),l(w)}}function x(a){a.d=W.site_domain,a["h.key"]=W["h.key"],a["h.d"]=W["h.d"],a["h.cr"]=W["h.cr"],a["h.t"]=W["h.t"],a["http.initiator"]="api",a["rt.start"]="api",da!==!1&&(a["rt.si"]=da,a["rt.ss"]=Math.round(ia+u),a["rt.sl"]=ja),a.api=1,a["api.v"]=2,a["api.l"]="js",a["api.lv"]=o,R("before_beacon",a);var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push(encodeURIComponent(d)+"="+(void 0===a[d]||null===a[d]?"":encodeURIComponent(a[d])));var e=j(),f=e+(e.indexOf("?")>-1?"&":"?")+c.join("&");R("beacon",a),b(f)}function y(a){return"string"!=typeof a?-1:(ha++,fa[ha]={time:t(),name:a},ha)}function z(a){if("number"!=typeof a||0>a)return-1;var b=fa[a],c=0;return b?(c=Math.round(t()-b.time),A(b.name,c),delete fa[a],c):-1}function A(a,b){return"string"!=typeof a?-1:"number"!=typeof b||0>b?-1:(b=Math.round(b),v("timer",a,b),l(w),b)}function B(a,b){"string"==typeof a&&("undefined"==typeof b||"number"==typeof b)&&("undefined"==typeof b&&(b=1),v("metric",a,b),l(w))}function C(a){"string"==typeof a&&(_=a)}function D(){return _}function E(){_=!1}function F(a){return"string"!=typeof a?!1:/^[a-zA-Z0-9_ -]{1,25}$/.test(a)===!1?!1:(aa=a,!0)}function G(){return aa}function H(){aa=!1}function I(a,b){return"undefined"!=typeof a?"undefined"==typeof b?void J(a):void(ba[a]=b):void 0}function J(a){"undefined"!=typeof a&&"undefined"!=typeof ba[a]&&delete ba[a]}function K(a){("string"==typeof a||"number"==typeof a)&&("number"==typeof a&&(a=""+a),da=a)}function L(){return da}function M(a){return K(a||c()),O(0),L()}function N(){ja++}function O(a){"number"!=typeof a||0>a||(ja=a)}function P(){return ja}function Q(a,b){ka.hasOwnProperty(a)&&"function"==typeof b&&ka[a].push(b)}function R(a,b){for(var c=0;c<ka[a].length;c++)ka[a][c](b)}g=g||{};var S=e,T=f,U="//c.go-mpulse.net/api/v2/config.json",V=!1,W={},X=!1,Y=!1,Z=[],$=!1,_=!1,aa=!1,ba={},ca={},da=!1,ea={},fa={},ga={},ha=-1,ia=t(),ja=0,ka={};for(r=0;r<q.length;r++)ka[q[r]]=[];"undefined"!=typeof g.configUrl&&(U=g.configUrl),g.forceSSL&&(V=!0),p();var la={startTimer:y,stopTimer:z,sendTimer:A,sendMetric:B,setPageGroup:C,getPageGroup:D,resetPageGroup:E,setABTest:F,getABTest:G,resetABTest:H,setDimension:I,resetDimension:J,setSessionID:K,getSessionID:L,startSession:M,incrementSessionLength:N,setSessionLength:O,getSessionLength:P,subscribe:Q,parseConfig:k};return la}function f(){return x.mPulse=y,w}function g(a,b,c){if(c=c||{},"undefined"!=typeof c.name&&"undefined"!=typeof A[c.name])return A[c.name];var d=e(a,b,c);if(z===!1){z=d;for(var f=0;f<p.length;f++){var g=p[f];w[g]=z[g]}}return"undefined"!=typeof c.name&&(A[c.name]=d),d}function h(a){return A[a]}function i(){}function j(a){"undefined"!=typeof A[a]&&delete A[a]}var k,l,m=3e5,n=5e3,o="0.0.1",p=["startTimer","stopTimer","sendTimer","sendMetric","setPageGroup","getPageGroup","resetPageGroup","setABTest","getABTest","resetABTest","setDimension","resetDimension","setSessionID","getSessionID","startSession","incrementSessionLength","setSessionLength","getSessionLength","subscribe"],q=["before_beacon","beacon"],r=0,s=!1,t=!1,u=+new Date;if(l="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick.bind(process):"undefined"!=typeof a?a.setImmediate?a.setImmediate.bind(a):a.msSetImmediate?a.msSetImmediate.bind(a):a.webkitSetImmediate?a.webkitSetImmediate.bind(a):a.mozSetImmediate?a.mozSetImmediate.bind(a):function(a){setTimeout(a,10)}:function(a){setTimeout(a,10)},"undefined"!=typeof a)if("undefined"!=typeof a.performance&&"function"==typeof a.performance.now)t=a.performance.now.bind(a.performance);else if("undefined"!=typeof a.performance){var v=["webkitNow","msNow","mozNow"];for(r=0;r<v.length;r++)if("function"==typeof a.performance[v[r]]){t=a.performance[v[r]];break}}t||("undefined"!=typeof a&&a.performance&&a.performance.timing&&a.performance.timing.navigationStart&&(u=a.performance.timing.navigationStart),t="undefined"!=typeof Date&&Date.now?function(){return Date.now()-u}:function(){return+new Date-u});var w,x,y,z=!1,A={};for("undefined"!=typeof a&&(x=a,y=x.mPulse),w={version:o,noConflict:f,init:g,getApp:h,stop:j},r=0;r<p.length;r++)w[p[r]]=i;"function"==typeof define&&define.amd?define([],function(){return w}):"undefined"!=typeof module&&module.exports?module.exports=w:"undefined"!=typeof x&&(x.mPulse=w)}("undefined"!=typeof window?window:void 0);
//# sourceMappingURL=mpulse.min.js.map