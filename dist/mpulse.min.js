/*! mpulse v1.1.0 */

var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=d.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var c=new a;return b&&c.mixIn(b),c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=d.WordArray=e.extend({init:function(a,c){a=this.words=a||[],c!=b?this.sigBytes=c:this.sigBytes=4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes,e=a.sigBytes;if(this.clamp(),d%4)for(var f=0;e>f;f++){var g=c[f>>>2]>>>24-f%4*8&255;b[d+f>>>2]|=g<<24-(d+f)%4*8}else if(c.length>65535)for(var f=0;e>f;f+=4)b[d+f>>>2]=c[f>>>2];else b.push.apply(b,c);return this.sigBytes+=e,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8,b.length=a.ceil(c/4)},clone:function(){var a=e.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return new f.init(c,b)}}),g=c.enc={},h=g.Hex={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;c>e;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push((f>>>4).toString(16)),d.push((15&f).toString(16))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new f.init(c,b/2)}},i=g.Latin1={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;c>e;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push(String.fromCharCode(f))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-d%4*8;return new f.init(c,b)}},j=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(i.stringify(a)))}catch(b){throw new Error("Malformed UTF-8 data")}},parse:function(a){return i.parse(unescape(encodeURIComponent(a)))}},k=d.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=j.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,g=this.blockSize,h=4*g,i=e/h;i=b?a.ceil(i):a.max((0|i)-this._minBufferSize,0);var j=i*g,k=a.min(4*j,e);if(j){for(var l=0;j>l;l+=g)this._doProcessBlock(d,l);var m=d.splice(0,j);c.sigBytes-=k}return new f.init(m,k)},clone:function(){var a=e.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0}),l=(d.Hasher=k.extend({cfg:e.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){a&&this._append(a);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new l.HMAC.init(a,c).finalize(b)}}}),c.algo={});return c}(Math);!function(a){var b=CryptoJS,c=b.lib,d=c.WordArray,e=c.Hasher,f=b.algo,g=[],h=[];!function(){function b(b){for(var c=a.sqrt(b),d=2;c>=d;d++)if(!(b%d))return!1;return!0}function c(a){return 4294967296*(a-(0|a))|0}for(var d=2,e=0;64>e;)b(d)&&(8>e&&(g[e]=c(a.pow(d,.5))),h[e]=c(a.pow(d,1/3)),e++),d++}();var i=[],j=f.SHA256=e.extend({_doReset:function(){this._hash=new d.init(g.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],f=c[2],g=c[3],j=c[4],k=c[5],l=c[6],m=c[7],n=0;64>n;n++){if(16>n)i[n]=0|a[b+n];else{var o=i[n-15],p=(o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3,q=i[n-2],r=(q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10;i[n]=p+i[n-7]+r+i[n-16]}var s=j&k^~j&l,t=d&e^d&f^e&f,u=(d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22),v=(j<<26|j>>>6)^(j<<21|j>>>11)^(j<<7|j>>>25),w=m+v+s+h[n]+i[n],x=u+t;m=l,l=k,k=j,j=g+w|0,g=f,f=e,e=d,d=w+x|0}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+g|0,c[4]=c[4]+j|0,c[5]=c[5]+k|0,c[6]=c[6]+l|0,c[7]=c[7]+m|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;return c[e>>>5]|=128<<24-e%32,c[(e+64>>>9<<4)+14]=a.floor(d/4294967296),c[(e+64>>>9<<4)+15]=d,b.sigBytes=4*c.length,this._process(),this._hash},clone:function(){var a=e.clone.call(this);return a._hash=this._hash.clone(),a}});b.SHA256=e._createHelper(j),b.HmacSHA256=e._createHmacHelper(j)}(Math),function(){{var a=CryptoJS,b=a.lib,c=b.Base,d=a.enc,e=d.Utf8,f=a.algo;f.HMAC=c.extend({init:function(a,b){a=this._hasher=new a.init,"string"==typeof b&&(b=e.parse(b));var c=a.blockSize,d=4*c;b.sigBytes>d&&(b=a.finalize(b)),b.clamp();for(var f=this._oKey=b.clone(),g=this._iKey=b.clone(),h=f.words,i=g.words,j=0;c>j;j++)h[j]^=1549556828,i[j]^=909522486;f.sigBytes=g.sigBytes=d,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var b=this._hasher,c=b.finalize(a);b.reset();var d=b.finalize(this._oKey.clone().concat(c));return d}})}}(),function(a){"use strict";function b(b,c){l||("function"==typeof XDomainRequest||"object"==typeof XDomainRequest?(t=!0,l=function(){return new XDomainRequest}):"function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest?l=function(){return new XMLHttpRequest}:"function"==typeof require?l=function(){var a=require("xmlhttprequest").XMLHttpRequest;return new a}:a&&"undefined"!=typeof a.ActiveXObject&&(l=function(){return new a.ActiveXObject("Microsoft.XMLHTTP")}));var d=l();"function"==typeof c&&(t?d.onload=function(){c(d.responseText)}:d.onreadystatechange=function(){4===d.readyState&&c(d.responseText)}),d.open("GET",b,!0),d.send()}function c(a){"object"==typeof console&&"function"==typeof console.warn&&console.warn("mPulse: "+a)}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}function e(a,b,d){if("undefined"==typeof CryptoJS||"function"!=typeof CryptoJS.HmacSHA256)return c("CryptoJS libraries not found!  mpulse.js will not work."),"";var e="key="+a+"&t="+d;return CryptoJS.HmacSHA256(e,b).toString()}function f(f,g,h){function i(b){return-1!==b.indexOf("http://")||-1!==b.indexOf("https://")?b:(Y?b="https:"+b:"undefined"==typeof a?-1===b.indexOf("http:")&&(b="http:"+b):"undefined"!=typeof a&&"file:"===a.location.protocol&&-1===b.indexOf("http:")&&(b="http:"+b),b)}function j(){var a=X,b=+new Date;return a+=-1!==a.indexOf("?")?"&":"?",a+="key="+V,a+="&t="+b,a+="&s="+e(V,W,b),i(a)}function k(){var a=Z.beacon_url;return i(a)}function l(a){try{var b=JSON.parse(a);for(var c in b)b.hasOwnProperty(c)&&(Z[c]=b[c])}catch(d){return void(_=!1)}if(ga||M(Z.session_id),ha={},ja={},fa={},Z.PageParams){var e=Z.PageParams.customMetrics,f=Z.PageParams.customTimers,g=Z.PageParams.customDimensions;if(e)for(s=0;s<e.length;s++){var h=e[s];ha[h.name]=h.label}if(f)for(s=0;s<f.length;s++){var i=f[s];ja[i.name]=i.label}if(g)for(s=0;s<g.length;s++){var j=g[s];fa[j.name]=j.label}}_=!0,$=!0,setTimeout(q,n),m(w)}function q(){if(""!==X){var a=j();$&&(a+="&r="),b(a,l)}}function t(){var a={};for(var b in ea)ea.hasOwnProperty(b)&&(a[b]=ea[b]);return a}function v(a,b,c){aa.push({type:a,name:b,value:c,group:ca,ab:da,dimensions:t(),when:+new Date})}function w(a){if(0!==aa.length){if(!_)return void((!ba||a)&&(ba=!0,setTimeout(function(){w(!0)},o)));var b=aa.shift(),d=b.type,e=b.name,f=b.value,g={};"boolean"!=typeof b.group&&(g["h.pg"]=b.group),"boolean"!=typeof b.ab&&(g["h.ab"]=b.ab),g["rt.tstart"]=g["rt.end"]=b.when;for(var h in b.dimensions)b.dimensions.hasOwnProperty(h)&&("undefined"!=typeof fa[h]?g[fa[h]]=b.dimensions[h]:c("Custom Dimension '"+h+"' is not defined"));"metric"===d?"undefined"!=typeof ha[e]?(g[ha[e]]=f,x(g)):c("Custom Metric '"+e+"' is not defined"):"timer"===d&&("undefined"!=typeof ja[e]?(g.t_other=ja[e]+"|"+f,x(g)):c("Custom Timer '"+e+"' is not defined")),m(w)}}function x(a){a.d=Z.site_domain,a["h.key"]=Z["h.key"],a["h.d"]=Z["h.d"],a["h.cr"]=Z["h.cr"],a["h.t"]=Z["h.t"],a["http.initiator"]="api",a["rt.start"]="api",ga!==!1&&(a["rt.si"]=ga,a["rt.ss"]=la,a["rt.sl"]=ma),a.api=1,a["api.v"]=2,a["api.l"]="js",a["api.lv"]=p,U("before_beacon",a);var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push(encodeURIComponent(d)+"="+(void 0===a[d]||null===a[d]?"":encodeURIComponent(a[d])));var e=k(),f=e+(e.indexOf("?")>-1?"&":"?")+c.join("&");U("beacon",a),b(f)}function y(a){return"string"!=typeof a?-1:(ka++,ia[ka]={time:u(),name:a},ka)}function z(a){if("number"!=typeof a||0>a)return-1;var b=ia[a],c=0;return b?(c=Math.round(u()-b.time),A(b.name,c),delete ia[a],c):-1}function A(a,b){return"string"!=typeof a?-1:"number"!=typeof b||0>b?-1:(b=Math.round(b),v("timer",a,b),m(w),b)}function B(a,b){"string"==typeof a&&("undefined"==typeof b||"number"==typeof b)&&("undefined"==typeof b&&(b=1),v("metric",a,b),m(w))}function C(a){"string"==typeof a&&(ca=a)}function D(){return ca}function E(){ca=!1}function F(a){return"string"!=typeof a?!1:/^[a-zA-Z0-9_ -]{1,25}$/.test(a)===!1?!1:(da=a,!0)}function G(){return da}function H(){da=!1}function I(a,b){return"undefined"!=typeof a?"undefined"==typeof b?void J(a):void(ea[a]=b):void 0}function J(a){"undefined"!=typeof a&&"undefined"!=typeof ea[a]&&delete ea[a]}function K(a){("string"==typeof a||"number"==typeof a)&&("number"==typeof a&&(a=""+a),ga=a)}function L(){return ga}function M(a){return K(a||d()),O(0),Q(u()),L()}function N(){ma++}function O(a){"number"!=typeof a||0>a||(ma=a)}function P(){return ma}function Q(a){"number"!=typeof a||0>a||(la=a)}function R(){return la}function S(b){return"undefined"==typeof b&&"undefined"!=typeof a&&(b=a),"undefined"!=typeof b&&b.BOOMR&&b.BOOMR.session&&b.BOOMR.session.ID&&b.BOOMR.session.start&&b.BOOMR.session.length?(K(b.BOOMR.session.ID+"-"+Math.round(b.BOOMR.session.start/1e3).toString(36)),O(b.BOOMR.session.length),Q(b.BOOMR.session.start),!0):!1}function T(a,b){na.hasOwnProperty(a)&&"function"==typeof b&&na[a].push(b)}function U(a,b){for(var c=0;c<na[a].length;c++)na[a][c](b)}h=h||{};var V=f,W=g,X="//c.go-mpulse.net/api/v2/config.json",Y=!1,Z={},$=!1,_=!1,aa=[],ba=!1,ca=!1,da=!1,ea={},fa={},ga=!1,ha={},ia={},ja={},ka=-1,la=u(),ma=0,na={};for(s=0;s<r.length;s++)na[r[s]]=[];"undefined"!=typeof h.configUrl&&(X=h.configUrl),h.forceSSL&&(Y=!0),q();var oa={startTimer:y,stopTimer:z,sendTimer:A,sendMetric:B,setPageGroup:C,getPageGroup:D,resetPageGroup:E,setABTest:F,getABTest:G,resetABTest:H,setDimension:I,resetDimension:J,setSessionID:K,getSessionID:L,startSession:M,incrementSessionLength:N,setSessionLength:O,getSessionLength:P,setSessionStart:Q,getSessionStart:R,transferBoomerangSession:S,subscribe:T,parseConfig:l};return oa}function g(){return y.mPulse=z,x}function h(a,b,d){if(d=d||{},"undefined"==typeof a)return void c("init(): You need to specify an apiKey");if("undefined"==typeof b)return void c("init(): You need to specify a secretKey");if("undefined"!=typeof d.name&&"undefined"!=typeof B[d.name])return B[d.name];var e=f(a,b,d);if(A===!1){A=e;for(var g=0;g<q.length;g++){var h=q[g];x[h]=A[h]}}return"undefined"!=typeof d.name&&(B[d.name]=e),e}function i(a){return B[a]}function j(){}function k(a){"undefined"!=typeof B[a]&&delete B[a]}var l,m,n=3e5,o=5e3,p="0.0.1",q=["startTimer","stopTimer","sendTimer","sendMetric","setPageGroup","getPageGroup","resetPageGroup","setABTest","getABTest","resetABTest","setDimension","resetDimension","setSessionID","getSessionID","startSession","incrementSessionLength","setSessionLength","getSessionLength","setSessionStart","getSessionStart","transferBoomerangSession","subscribe"],r=["before_beacon","beacon"],s=0,t=!1,u=!1,v=+new Date;if(m="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick.bind(process):"undefined"!=typeof a?a.setImmediate?a.setImmediate.bind(a):a.msSetImmediate?a.msSetImmediate.bind(a):a.webkitSetImmediate?a.webkitSetImmediate.bind(a):a.mozSetImmediate?a.mozSetImmediate.bind(a):function(a){setTimeout(a,10)}:function(a){setTimeout(a,10)},"undefined"!=typeof a)if("undefined"!=typeof a.performance&&"function"==typeof a.performance.now)u=a.performance.now.bind(a.performance);else if("undefined"!=typeof a.performance){var w=["webkitNow","msNow","mozNow"];for(s=0;s<w.length;s++)if("function"==typeof a.performance[w[s]]){u=a.performance[w[s]];break}}"undefined"!=typeof a&&"performance"in a&&a.performance&&a.performance.timing&&a.performance.timing.navigationStart&&(v=a.performance.timing.navigationStart),u||(u="undefined"!=typeof Date&&Date.now?function(){return Date.now()-v}:function(){return+new Date-v});var x,y,z,A=!1,B={};for("undefined"!=typeof a&&(y=a,z=y.mPulse),x={version:p,noConflict:g,init:h,getApp:i,stop:k,now:u},s=0;s<q.length;s++)x[q[s]]=j;"function"==typeof define&&define.amd?define([],function(){return x}):"undefined"!=typeof module&&module.exports?module.exports=x:"undefined"!=typeof y&&(y.mPulse=x)}("undefined"!=typeof window?window:void 0);
//# sourceMappingURL=mpulse.min.js.map